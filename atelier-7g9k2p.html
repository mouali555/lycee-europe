<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Atelier 7g9k2p</title>
  <meta name="robots" content="noindex,nofollow" />
  <meta name="description" content="Espace cach√© (easter egg)." />

  <link rel="icon" href="./assets/img/favicon.svg" type="image/svg+xml" />

  <link rel="stylesheet" href="./assets/css/tokens.css" />
  <link rel="stylesheet" href="./assets/css/reset.css" />
  <link rel="stylesheet" href="./assets/css/global.css" />
  <link rel="stylesheet" href="./assets/css/components.css" />

  <style>
    /* Petit style local pour le c√¥t√© "troll" */
    .goofyCard { border: 1px dashed var(--border); border-radius: 18px; padding: 18px; background: rgba(255,255,255,0.02); }
    .goofyLine { opacity: 0.92; }
    .tiny { font-size: 12px; opacity: 0.7; }
  </style>

  <!-- Le garde-fou est maintenant : login Google + appartenance √† l'espace Firestore.
       (Beaucoup plus solide que "une cl√© dans l'URL".) -->
  <script type="module" src="./assets/js/atelier.js"></script>
</head>

<body>
  <main class="container" style="padding: 36px 0 64px; max-width: 920px;">

    <section id="locked" hidden>
      <div class="goofyCard">
        <h1 style="margin: 0 0 8px;">404</h1>
        <p class="goofyLine" style="margin: 0 0 14px;">Cette page n'existe probablement pas. Ou alors elle s'est transform√©e en croissant quantique.</p>
        <a class="btn" href="./index.html">Retour √† l'accueil</a>
      </div>
    </section>

    <!-- √âcran d'acc√®s (auth + invite) -->
    <section id="gate" hidden>
      <div class="goofyCard">
        <div style="display:flex; gap:12px; align-items: baseline; flex-wrap: wrap;">
          <h1 style="margin:0;">Acc√®s requis</h1>
          <span class="pill" aria-label="statut">üîí priv√©</span>
        </div>

        <p class="goofyLine" style="margin: 10px 0 14px;">
          Pour entrer : connecte-toi (Google) + √™tre membre de l'espace.
        </p>

        <div style="display:flex; gap:10px; flex-wrap:wrap; align-items:center;">
          <button id="btn-login" class="btn btn--primary" type="button">Login Google</button>
          <button id="btn-logout" class="btn" type="button" style="display:none;">Logout</button>
          <span id="userTag" class="tiny" aria-label="Utilisateur">OFFLINE</span>
        </div>

        <div style="height: 10px;"></div>

        <div class="card" style="padding:14px;">
          <h2 style="margin:0 0 8px;">Tu as un code d'invite ?</h2>
          <p class="tiny" style="margin:0 0 10px;">(Optionnel) Si tu n'es pas encore membre, colle un code d'invite ici.</p>
          <div style="display:flex; gap:10px; flex-wrap:wrap; align-items:center;">
            <input id="inviteCode" class="input" placeholder="Code d‚Äôinvite" autocomplete="off" style="min-width: 220px;" />
            <button id="joinBtn" class="btn btn--primary" type="button">Rejoindre</button>
          </div>
          <p id="gateMsg" class="tiny" style="margin:10px 0 0; opacity:0.8;">‚Äî</p>
        </div>
      </div>
    </section>

    <section id="unlocked" hidden>
      <div class="goofyCard">
        <div style="display:flex; gap:12px; align-items: baseline; flex-wrap: wrap;">
          <h1 style="margin:0;">Le site cach√© (goofy troll)</h1>
          <span class="pill" aria-label="statut">Acc√®s: ‚úÖ secret</span>
        </div>
        <p class="goofyLine" style="margin: 10px 0 0;">
          Bienvenue dans la salle des choses qui n'ont pas de sens.
          Ici, les r√®gles sont √©crites avec une banane et sign√©es par un pingouin.
        </p>
      </div>

      <div style="height: 14px;"></div>

      <div class="grid" style="grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 14px;">
        <article class="card">
          <h2 style="margin-top:0;">Joao</h2>
          <p class="goofyLine">A perdu le mot de passe dans une soupe. R√©sultat : la soupe est maintenant admin.</p>
        </article>
        <article class="card">
          <h2 style="margin-top:0;">R√©mi</h2>
          <p class="goofyLine">A n√©goci√© avec un nuage. Le nuage a r√©pondu : "oui" puis est parti en zigzag.</p>
        </article>
        <article class="card">
          <h2 style="margin-top:0;">Arthur</h2>
          <p class="goofyLine">A install√© un modem dans une baguette. Le Wi‚ÄëFi s'appelle "painternet".</p>
        </article>
        <article class="card">
          <h2 style="margin-top:0;">Johann</h2>
          <p class="goofyLine">A cliqu√© sur "Annuler" dans la vraie vie. Depuis, mardi n'existe plus.</p>
        </article>
        <article class="card">
          <h2 style="margin-top:0;">Dylan</h2>
          <p class="goofyLine">A pris une capture d'√©cran d'un r√™ve. Le fichier p√®se 3 licornes et demie.</p>
        </article>
      </div>

      <div style="height: 14px;"></div>

      <section class="card">
        <h2 style="margin-top:0;">Le tableau officiel des phrases absurdes</h2>
        <ul style="margin: 0; padding-left: 18px;">
          <li>Le triangle a demand√© un autographe au cercle.</li>
          <li>Le clavier a √©ternu√©, donc l'ordinateur a fait une sieste.</li>
          <li>Si tu lis √ßa √† voix haute, une chaussette devient philosophe.</li>
          <li>Le code source est parti acheter du lait et n'est jamais revenu (classique).</li>
          <li>Le hamster a valid√© la prod. C'est officiel : üêπ‚úÖ</li>
        </ul>
        <p class="tiny" style="margin: 12px 0 0;">PS : si quelqu'un tombe ici par hasard, c'est que le hasard est tr√®s motiv√©.</p>
      </section>

      <div style="height: 14px;"></div>

      <!-- Communication "secr√®te" (priv√©e) : mini-chat Firestore dans un salon d√©di√© -->
      <section class="card">
        <div style="display:flex; gap:10px; align-items:baseline; flex-wrap:wrap;">
          <h2 style="margin:0;">Mini‚Äëchat priv√©</h2>
          <span class="pill">room: atelier</span>
        </div>
        <p class="tiny" style="margin:8px 0 12px;">Visible uniquement pour les membres connect√©s.</p>

        <div id="miniChat" style="display:grid; gap:10px;">
          <div id="miniChatList" class="goofyCard" style="max-height: 260px; overflow:auto; padding:12px;">
            <p class="tiny" style="margin:0; opacity:0.7;">Chargement‚Ä¶</p>
          </div>
          <div style="display:flex; gap:10px; flex-wrap:wrap; align-items:center;">
            <input id="miniChatInput" class="input" placeholder="√âcrire un message‚Ä¶" autocomplete="off" style="flex:1; min-width:220px;" />
            <button id="miniChatSend" class="btn btn--primary" type="button">Envoyer</button>
          </div>
          <p id="miniChatHint" class="tiny" style="margin:0; opacity:0.7;">Astuce : ouvre aussi <a href="./console.html">la Console IA</a> pour le grand chat.</p>
        </div>
      </section>
    </section>

  </main>

  <!-- Le contr√¥le d'acc√®s + le mini-chat sont g√©r√©s dans assets/js/atelier.js -->
</body>
</html>
